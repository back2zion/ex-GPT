@echo off
echo === ex-GPT Permission Management System ===
echo.

docker --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ? Docker? ???? ?????.
    echo    Docker Desktop? ??????: https://www.docker.com/products/docker-desktop/
    pause
    exit /b 1
)

echo  Docker ?? ?? ??
echo.

if not exist ".env" (
    echo  ?? ?? ?? ?? ?...
    copy ".env.example" ".env" >nul
    echo  .env ??? ???????.
    echo   .env ??? ??? ?? ??? ?? ??????.
    echo.
)

if not exist "uploads" mkdir uploads
if not exist "logs" mkdir logs
if not exist "uploads\personal" mkdir uploads\personal

echo  ?? ?? ?? ?...
docker-compose up --build

echo.
echo  ??? ???????!
echo.
echo  ??? URL:
echo    API ??: http://localhost:8000/docs
echo    ????: http://localhost:8000/api/v1/health
echo.
pause
